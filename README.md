# 汕尾51旅游活动地图

## 项目概述
这是一个基于高德地图API开发的旅游活动地图，展示2024年五一假期期间汕尾市的各类文化旅游活动。项目采用原生JavaScript开发，具有良好的交互体验和响应式设计。

## 主要功能

### 1. 地图展示
- 使用高德地图API展示汕尾市区域地图
- 支持地图缩放、平移等基础操作
- 添加定位功能，支持用户定位
- 景点标记自动聚合和分散
- 标记点动画效果和文本标签

### 2. 景点标记
- 在地图上标记所有活动地点
- 每个标记点显示地点名称和类型
- 鼠标悬停时显示详细信息窗口
- 点击标记时自动居中并显示详情
- 标记点样式根据类型区分

### 3. 景点列表面板
- 可折叠的侧边栏设计
- 支持列表与地图联动
- 点击列表项定位到对应景点
- 记住用户的展开/收起偏好
- 支持按类型筛选和关键词搜索

### 4. 路线规划功能
- 支持1-5天的行程规划
- 智能推荐最优游览路线
- 考虑景点开放时间和游览时长
- 显示景点间最佳交通方式
- 多日行程可切换显示
- 路线规划结果可视化展示

### 5. 旅游轮盘功能
- 趣味景点随机抽选功能
- 支持按类型筛选景点
- 流畅的轮盘动画效果
- 结果自动定位到地图
- 选中景点动画提示
- 记住用户的面板展开状态
- 支持移动端响应式布局

### 6. 调试与错误处理
- 实时显示加载和操作进度
- 清晰的错误提示和处理机制
- 调试面板实时显示系统状态
- 支持错误日志记录和查看
- 优化的错误恢复机制

### 7. 用户体验优化
- Apple风格的界面设计
- 流畅的动画过渡效果
- 响应式布局适配
- 智能的面板展开/收起
- 优化的地图交互体验

## 技术特点

### 1. 代码架构
- 模块化的代码组织
- 清晰的文件结构
- 良好的代码注释
- 统一的编码规范
- 优化的代码复用

### 2. 性能优化
- 延迟加载信息窗口
- 优化地图标记渲染
- 使用事件委托处理列表交互
- localStorage保存用户偏好
- 优化API调用频率

### 3. 数据处理
- 统一的数据格式规范
- 智能的时间解析算法
- 灵活的数据过滤机制
- 高效的路线规划算法
- 完善的数据验证

## 使用说明
1. 打开页面默认显示完整地图和景点列表
2. 可通过右上角的按钮控制各功能面板的显示/隐藏：
   - "景点列表"：浏览所有景点
   - "路线规划"：规划多日游行程
   - "旅游轮盘"：随机抽选景点
3. 路线规划使用方法：
   - 输入住宿地点
   - 选择开始日期
   - 选择规划天数（1-5天）
   - 点击"开始规划"生成行程
4. 旅游轮盘使用方法：
   - 选择景点类型（可选）
   - 点击"开始抽选"
   - 等待轮盘停止
   - 查看抽选结果
   - 地图自动定位到选中景点
5. 景点查看：
   - 点击标记查看详情
   - 使用搜索框搜索景点
   - 使用筛选按钮筛选类型

## 调试功能
1. 右上角调试面板实时显示系统状态
2. 显示地图加载进度和API调用状态
3. 提供清晰的错误提示和处理机制
4. 支持查看详细错误信息
5. 可清除调试日志

## 最新更新
1. 新增旅游轮盘功能，支持随机抽选景点
2. 优化了地图加载流程，提高加载成功率
3. 改进了调试面板的显示效果和信息分类
4. 优化了路线规划的交互体验
5. 修复了面板展开/收起的问题
6. 改进了错误处理和提示机制

## 技术栈
- HTML5
- CSS3
- JavaScript (ES6+)
- Canvas API
- 高德地图 API v2.0
- LocalStorage API

## 项目维护
本项目持续更新维护，欢迎提出建议和反馈。如遇问题，请查看调试面板的错误信息或提交问题反馈。